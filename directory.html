<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Directory | Mangaung Chamber of Commerce</title>
    <meta name="description" content="Directory of businesses in Mangaung">
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/larger.css">
</head>

<body>
    <header>
        <h1>Mangaung Chamber of Commerce</h1>
        <button id="menu-button">‚ò∞</button>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="discover.html">Discover</a></li>
                <li class="active"><a href="directory.html">Directory</a></li>
                <li><a href="join.html">Join</a></li>
            </ul>
        </nav>
    </header>

    <main class="directory-container">
        <section class="directory-controls">
            <h2>Business Directory</h2>
            <div class="controls">
                <div class="view-toggle">
                    <button id="grid-view" class="active">Grid View</button>
                    <button id="list-view">List View</button>
                </div>
                <div class="filter">
                    <label for="membership-filter">Filter by Membership:</label>
                    <select id="membership-filter">
                        <option value="all">All Members</option>
                        <option value="np">NP Members</option>
                        <option value="bronze">Bronze Members</option>
                        <option value="silver">Silver Members</option>
                        <option value="gold">Gold Members</option>
                    </select>
                </div>
            </div>
        </section>

        <section class="directory-grid" id="directory-view">
            <!-- Business cards will be loaded here -->
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="contact-info">
                <h4>Contact Us</h4>
                <p>123 Commerce Street, Mangaung</p>
                <p>Email: info@mangaungchamber.co.za</p>
                <p>Phone: +27 51 123 4567</p>
            </div>
            <div class="social-links">
                <a href="#" aria-label="Facebook">üìò</a>
                <a href="#" aria-label="Twitter">üê¶</a>
                <a href="#" aria-label="LinkedIn">üîó</a>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; <span id="currentyear"></span> Mangaung Chamber of Commerce</p>
            <p id="lastModified"></p>
        </div>
    </footer>

    <script src="scripts/chamber.js"></script>
    <script>
        // Business directory data
        const businesses = [
            {
                name: "Bloemfontein Furniture",
                address: "123 Main Street",
                phone: "+27 51 123 4567",
                website: "www.bloemfurniture.co.za",
                membership: "gold",
                image: "images/furniture-store.webp"
            },
            {
                name: "Free State Tech Solutions",
                address: "456 Tech Park",
                phone: "+27 51 234 5678",
                website: "www.fstech.co.za",
                membership: "silver",
                image: "images/tech-company.webp"
            },
            {
                name: "Mangaung Arts Council",
                address: "789 Cultural Precinct",
                phone: "+27 51 345 6789",
                website: "www.mangaungarts.org",
                membership: "np",
                image: "images/arts-council.webp"
            },
            {
                name: "Cheetah Printing",
                address: "321 Industrial Area",
                phone: "+27 51 456 7890",
                website: "www.cheetahprinting.co.za",
                membership: "bronze",
                image: "images/printing-company.webp"
            },
            {
                name: "Vista Mall",
                address: "100 Retail Drive",
                phone: "+27 51 567 8901",
                website: "www.vistamall.co.za",
                membership: "gold",
                image: "images/shopping-mall.webp"
            },
            {
                name: "Free State Agriculture Co-op",
                address: "200 Farm Road",
                phone: "+27 51 678 9012",
                website: "www.fsagri.co.za",
                membership: "silver",
                image: "images/agriculture.webp"
            }
        ];

        // Directory functionality
        document.addEventListener('DOMContentLoaded', function () {
            const directoryView = document.getElementById('directory-view');
            const gridViewBtn = document.getElementById('grid-view');
            const listViewBtn = document.getElementById('list-view');
            const membershipFilter = document.getElementById('membership-filter');

            // Render businesses
            function renderBusinesses(view = 'grid', filter = 'all') {
                directoryView.innerHTML = '';
                directoryView.className = `directory-${view}`;

                const filteredBusinesses = filter === 'all'
                    ? businesses
                    : businesses.filter(b => b.membership === filter);

                filteredBusinesses.forEach(business => {
                    const businessElement = document.createElement('div');
                    businessElement.className = `business-card ${business.membership}-member animate`;

                    if (view === 'grid') {
                        businessElement.innerHTML = `
                            <img src="${business.image}" alt="${business.name}" loading="lazy">
                            <div class="business-info">
                                <h3>${business.name}</h3>
                                <p>${business.address}</p>
                                <p>${business.phone}</p>
                                <a href="https://${business.website}" target="_blank">Visit Website</a>
                                <span class="membership-badge ${business.membership}">${business.membership.toUpperCase()}</span>
                            </div>
                        `;
                    } else {
                        businessElement.innerHTML = `
                            <div class="business-info">
                                <h3>${business.name}</h3>
                                <div class="business-details">
                                    <p><strong>Address:</strong> ${business.address}</p>
                                    <p><strong>Phone:</strong> ${business.phone}</p>
                                    <p><strong>Website:</strong> <a href="https://${business.website}" target="_blank">${business.website}</a></p>
                                    <span class="membership-badge ${business.membership}">${business.membership.toUpperCase()}</span>
                                </div>
                            </div>
                        `;
                    }

                    directoryView.appendChild(businessElement);
                });

                // Trigger animations
                setTimeout(() => {
                    const cards = document.querySelectorAll('.animate');
                    cards.forEach((card, index) => {
                        setTimeout(() => {
                            card.classList.add('animated');
                        }, index * 100);
                    });
                }, 100);
            }

            // Initial render
            renderBusinesses();

            // View toggle
            gridViewBtn.addEventListener('click', function () {
                gridViewBtn.classList.add('active');
                listViewBtn.classList.remove('active');
                renderBusinesses('grid', membershipFilter.value);
            });

            listViewBtn.addEventListener('click', function () {
                listViewBtn.classList.add('active');
                gridViewBtn.classList.remove('active');
                renderBusinesses('list', membershipFilter.value);
            });

            // Filter change
            membershipFilter.addEventListener('change', function () {
                const currentView = gridViewBtn.classList.contains('active') ? 'grid' : 'list';
                renderBusinesses(currentView, this.value);
            });
        });
    </script>
</body>

</html>