<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thank You | Mangaung Chamber of Commerce</title>
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/larger.css">
</head>

<body>
    <header>
        <h1>Mangaung Chamber of Commerce</h1>
        <button id="menu-button">‚ò∞</button>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="discover.html">Discover</a></li>
                <li><a href="directory.html">Directory</a></li>
                <li><a href="join.html">Join</a></li>
            </ul>
        </nav>
    </header>

    <main class="thankyou-container">
        <div class="card">
            <h2>Thank You for Joining!</h2>
            <div id="form-data-display"></div>
            <p>We'll contact you shortly to complete your membership process.</p>
            <a href="index.html" class="cta-button">Return to Home</a>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <div class="contact-info">
                <h4>Contact Us</h4>
                <p>123 Commerce Street, Mangaung</p>
                <p>Email: info@mangaungchamber.co.za</p>
                <p>Phone: +27 51 123 4567</p>
            </div>
            <div class="social-links">
                <a href="#" aria-label="Facebook">üìò</a>
                <a href="#" aria-label="Twitter">üê¶</a>
                <a href="#" aria-label="LinkedIn">üîó</a>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; <span id="currentyear"></span> Mangaung Chamber of Commerce</p>
            <p id="lastModified"></p>
        </div>
    </footer>

    <script src="scripts/chamber.js"></script>
    <script>
        // Display form data from URL parameters
        document.addEventListener('DOMContentLoaded', function () {
            const params = new URLSearchParams(window.location.search);
            const displayDiv = document.getElementById('form-data-display');

            if (params.size > 0) {
                let html = '<div class="form-data"><h3>Your Information:</h3><ul>';

                // Required fields
                const requiredFields = ['firstName', 'lastName', 'email', 'phone', 'organization', 'timestamp'];

                requiredFields.forEach(field => {
                    if (params.has(field)) {
                        let label = field.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase());
                        if (field === 'timestamp') {
                            const date = new Date(params.get(field));
                            html += `<li><strong>${label}:</strong> ${date.toLocaleString()}</li>`;
                        } else {
                            html += `<li><strong>${label}:</strong> ${params.get(field)}</li>`;
                        }
                    }
                });

                // Optional fields
                const optionalFields = ['title', 'membership', 'description'];
                let hasOptional = false;
                let optionalHtml = '';

                optionalFields.forEach(field => {
                    if (params.has(field) && params.get(field).trim() !== '') {
                        hasOptional = true;
                        let label = field.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase());
                        optionalHtml += `<li><strong>${label}:</strong> ${params.get(field)}</li>`;
                    }
                });

                if (hasOptional) {
                    html += '</ul><h3>Additional Information:</h3><ul>' + optionalHtml;
                }

                html += '</ul></div>';
                displayDiv.innerHTML = html;
            } else {
                displayDiv.innerHTML = '<p>No form data received.</p>';
            }
        });
    </script>
</body>

</html>